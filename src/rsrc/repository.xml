<?xml version="1.0" encoding="UTF-8"?>
<repository>

  <!-- Defines the roles of the system -->
  <roles>
    <!-- Generic roles -->
    <role name="LockIndicator" class-uid="{20000001-0000-0000-0000-000000000001}" description = "Whether the item is locked or not" />
    <role name="WasLockedIndicator" class-uid="{20000001-0000-0000-0000-000000000002}" description = "Whether the item was locked or not" />
    <role name="Name" class-uid="{20000001-0000-0000-0000-000000000003}" description = "The name of the item" />

    <!-- Data type roles -->
    <role name="DataType_SqlType" class-uid="{20000001-0000-0000-0000-000000000004}" description = "The SQL type of a data type" />
    <role name="DataType_Size" class-uid="{20000001-0000-0000-0000-000000000005}" description = "The size of a data type" />
    <role name="DataType_Type" class-uid="{20000001-0000-0000-0000-000000000006}" description = "The Type of a data type" />
    <role name="DataType_FinalSql" class-uid="{20000001-0000-0000-0000-000000000007}" description = "The Final sql of a data type" />
    <role name="DataType_Default" class-uid="{20000001-0000-0000-0000-000000000008}" description = "The Default Value of a data type" />
    <role name="DataType_Unsigned" class-uid="{20000001-0000-0000-0000-000000000009}" description = "If the data type is unsigned or not" />
    <role name="DataType_CanBeNull" class-uid="{20000001-0000-0000-0000-00000000000A}" description = "If the data type can be null or not" />
    
    <!-- Roles of a column -->
    <role name = "PrimaryKey" class-uid = "{20000001-0000-0000-0000-00000000000C}" description = "If a column is a primary key or not" />
    
    <!-- Roles of a table -->
    <role name="Columns" class-uid="{20000001-0000-0000-0000-00000000000B}" description = "The Columns of a table" />
    
    <!-- Roles of the keywords -->
    <role name = "Keyword_Sql_Create" class-uid = "{20000001-0000-0000-0000-00000000000D}" description = "The CREATE keyword of the usual SQL syntax" />
    <role name = "Keyword_Sql_Table" class-uid = "{20000001-0000-0000-0000-00000000000F}" description = "The TABLE keyword of the usual SQL syntax" />
    
    <!-- Roles of various statements -->
    <role name = "Statement_Create_Table" class-uid = "{20000001-0000-0000-0000-00000000000E}" description = "The statement whic is used to create a table" />

  </roles>

  <!-- the supported databases -->
  <databases>
    <database name="MySql" id="MYSQL" class-uid="{100000DB-0000-0000-0000-000000000001}">
      <versions>
        <supported-versions>
          <version tag="5.0"/>
          <version tag="5.1"/>
        </supported-versions>
        <not-supported-versions>
          <version tag="4.0"/>
        </not-supported-versions>
      </versions>
      <description>
        The MySql Database
      </description>
      <icon>
        <big>
          <image type="internal" name="MYSQL_BIG_ICON"/>
        </big>
        <small>
          <image type="internal" name="MYSQL_SMALL_ICON"/>
        </small>
      </icon>
      <keywords>
            <keyword role_uid = "{20000001-0000-0000-0000-00000000000D}" class_uid = "{1000000D-0000-0000-0000-000000000001}"> CREATE</keyword>
            <keyword role_uid = "{20000001-0000-0000-0000-00000000000F}" class_uid = "{1000000D-0000-0000-0000-000000000001}">TABLE</keyword>
            <keyword>ADD</keyword>
            <keyword>ALL</keyword>
            <keyword>ALTER</keyword>
            <keyword>ANALYZE</keyword>
            <keyword>AND</keyword>
            <keyword>AS</keyword>
            <keyword>ASC</keyword>
            <keyword>ASENSITIVE</keyword>
            <keyword>BEFORE</keyword>
            <keyword>BEGIN</keyword>
            <keyword>END</keyword>
            <keyword>BETWEEN</keyword>
            <keyword>BOTH</keyword>
            <keyword>BY</keyword>
            <keyword>CALL</keyword>
            <keyword>CASCADE</keyword>
            <keyword>CASE</keyword>
            <keyword>CHANGE</keyword>
            <keyword>CHECK</keyword>
            <keyword>CHARACTER</keyword>
            <keyword>COLLATE</keyword>
            <keyword>COLUMN</keyword>
            <keyword>CONDITION</keyword>
            <keyword>CONSTRAINT</keyword>
            <keyword>CONTINUE</keyword>
            <keyword>CONVERT</keyword>
            <keyword>CROSS</keyword>
            <keyword>CURRENT_DATE</keyword>
            <keyword>CURRENT_TIME</keyword>
            <keyword>CURRENT_TIMESTAMP</keyword>
            <keyword>CURRENT_USER</keyword>
            <keyword>CURSOR</keyword>
            <keyword>DATABASE</keyword>
            <keyword>DATABASES</keyword>
            <keyword>DAY_HOUR</keyword>
            <keyword>DAY_MICROSECOND</keyword>
            <keyword>DAY_MINUTE</keyword>
            <keyword>DAY_SECOND</keyword>
            <keyword>DECLARE</keyword>
            <keyword>DEFAULT</keyword>
            <keyword>DELAYED</keyword>
            <keyword>DELETE</keyword>
            <keyword>DESC</keyword>
            <keyword>DESCRIBE</keyword>
            <keyword>DETERMINISTIC</keyword>
            <keyword>DISTINCT</keyword>
            <keyword>DISTINCTROW</keyword>
            <keyword>DIV</keyword>
            <keyword>DROP</keyword>
            <keyword>DUAL</keyword>
            <keyword>EACH</keyword>
            <keyword>ELSE</keyword>
            <keyword>ELSEIF</keyword>
            <keyword>ENCLOSED</keyword>
            <keyword>ESCAPED</keyword>
            <keyword>EXISTS</keyword>
            <keyword>EXIT</keyword>
            <keyword>EXPLAIN</keyword>
            <keyword>FALSE</keyword>
            <keyword>FETCH</keyword>
            <keyword>FOR</keyword>
            <keyword>FORCE</keyword>
            <keyword>FOREIGN</keyword>
            <keyword>FROM</keyword>
            <keyword>FULLTEXT</keyword>
            <keyword>GRANT</keyword>
            <keyword>GROUP</keyword>
            <keyword>HAVING</keyword>
            <keyword>HIGH_PRIORITY</keyword>
            <keyword>HOUR_MICROSECOND</keyword>
            <keyword>HOUR_MINUTE</keyword>
            <keyword>HOUR_SECOND</keyword>
            <keyword>IF</keyword>
            <keyword>IGNORE</keyword>
            <keyword>IN</keyword>
            <keyword>INDEX</keyword>
            <keyword>INFILE</keyword>
            <keyword>INNER</keyword>
            <keyword>INOUT</keyword>
            <keyword>INSENSITIVE</keyword>
            <keyword>INSERT</keyword>
            <keyword>INTERVAL</keyword>
            <keyword>INTO</keyword>
            <keyword>IS</keyword>
            <keyword>ITERATE</keyword>
            <keyword>JOIN</keyword>
            <keyword>KEY</keyword>
            <keyword>KEYS</keyword>
            <keyword>KILL</keyword>
            <keyword>LEADING</keyword>
            <keyword>LEAVE</keyword>
            <keyword>LEFT</keyword>
            <keyword>LIKE</keyword>
            <keyword>LIMIT</keyword>
            <keyword>LINES</keyword>
            <keyword>LOAD</keyword>
            <keyword>LOCALTIME</keyword>
            <keyword>LOCALTIMESTAMP</keyword>
            <keyword>LOCK</keyword>
            <keyword>LONG</keyword>
            <keyword>LONGBLOB</keyword>
            <keyword>LONGTEXT</keyword>
            <keyword>LOOP</keyword>
            <keyword>LOW_PRIORITY</keyword>
            <keyword>MATCH</keyword>
            <keyword>MEDIUMBLOB</keyword>
            <keyword>MEDIUMINT</keyword>
            <keyword>MEDIUMTEXT</keyword>
            <keyword>MIDDLEINT</keyword>
            <keyword>MINUTE_MICROSECOND</keyword>
            <keyword>MINUTE_SECOND</keyword>
            <keyword>MOD</keyword>
            <keyword>MODIFIES</keyword>
            <keyword>NATURAL</keyword>
            <keyword>NOT</keyword>
            <keyword>NO_WRITE_TO_BINLOG</keyword>
            <keyword>NULL</keyword>
            <keyword>ON</keyword>
            <keyword>OPTIMIZE</keyword>
            <keyword>OPTION</keyword>
            <keyword>OPTIONALLY</keyword>
            <keyword>OR</keyword>
            <keyword>ORDER</keyword>
            <keyword>OUT</keyword>
            <keyword>OUTER</keyword>
            <keyword>OUTFILE</keyword>
            <keyword>PRECISION</keyword>
            <keyword>PRIMARY</keyword>
            <keyword>PROCEDURE</keyword>
            <keyword>PURGE</keyword>
            <keyword>READ</keyword>
            <keyword>READS</keyword>
            <keyword>REAL</keyword>
            <keyword>REFERENCES</keyword>
            <keyword>REGEXP</keyword>
            <keyword>RELEASE</keyword>
            <keyword>RENAME</keyword>
            <keyword>REPEAT</keyword>
            <keyword>REPLACE</keyword>
            <keyword>REQUIRE</keyword>
            <keyword>RESTRICT</keyword>
            <keyword>RETURN</keyword>
            <keyword>REVOKE</keyword>
            <keyword>RIGHT</keyword>
            <keyword>RLIKE</keyword>
            <keyword>SCHEMA</keyword>
            <keyword>SCHEMAS</keyword>
            <keyword>SECOND_MICROSECOND</keyword>
            <keyword>SELECT</keyword>
            <keyword>SENSITIVE</keyword>
            <keyword>SEPARATOR</keyword>
            <keyword>SET</keyword>
            <keyword>SHOW</keyword>
            <keyword>SONAME</keyword>
            <keyword>SPATIAL</keyword>
            <keyword>SPECIFIC</keyword>
            <keyword>SQL</keyword>
            <keyword>SQLEXCEPTION</keyword>
            <keyword>SQLSTATE</keyword>
            <keyword>SQLWARNING</keyword>
            <keyword>SQL_BIG_RESULT</keyword>
            <keyword>SQL_CALC_FOUND_ROWS</keyword>
            <keyword>SQL_SMALL_RESULT</keyword>
            <keyword>SSL</keyword>
            <keyword>STARTING</keyword>
            <keyword>STRAIGHT_JOIN</keyword>
            <keyword>TEMPORARY</keyword>
            <keyword>TERMINATED</keyword>
            <keyword>THEN</keyword>
            <keyword>TO</keyword>
            <keyword>TRAILING</keyword>
            <keyword>TRIGGER</keyword>
            <keyword>TRUE</keyword>
            <keyword>UNDO</keyword>
            <keyword>UNION</keyword>
            <keyword>UNIQUE</keyword>
            <keyword>UNLOCK</keyword>
            <keyword>UNSIGNED</keyword>
            <keyword>UPDATE</keyword>
            <keyword>USAGE</keyword>
            <keyword>USE</keyword>
            <keyword>USING</keyword>
            <keyword>UTC_DATE</keyword>
            <keyword>UTC_TIME</keyword>
            <keyword>UTC_TIMESTAMP</keyword>
            <keyword>VALUES</keyword>
            <keyword>VARYING</keyword>
            <keyword>WHEN</keyword>
            <keyword>WHERE</keyword>
            <keyword>WHILE</keyword>
            <keyword>WITH</keyword>
            <keyword>WRITE</keyword>
            <keyword>XOR</keyword>
            <keyword>YEAR_MONTH</keyword>
            <keyword>ZEROFILL</keyword>
            <keyword>ASENSITIVE</keyword>
            <keyword>CONNECTION</keyword>
            <keyword>DECLARE</keyword>
            <keyword>ELSEIF</keyword>
            <keyword>GOTO</keyword>
            <keyword>ITERATE</keyword>
            <keyword>LOOP</keyword>
            <keyword>READS</keyword>
            <keyword>RETURN</keyword>
            <keyword>SENSITIVE</keyword>
            <keyword>SQLEXCEPTION</keyword>
            <keyword>TRIGGER</keyword>
            <keyword>WHILE</keyword>
            <keyword>CALL</keyword>
            <keyword>CONTINUE</keyword>
            <keyword>DETERMINISTIC</keyword>
            <keyword>EXIT</keyword>
            <keyword>INOUT</keyword>
            <keyword>LABEL</keyword>
            <keyword>MODIFIES</keyword>
            <keyword>RELEASE</keyword>
            <keyword>SCHEMA</keyword>
            <keyword>SPECIFIC</keyword>
            <keyword>SQLSTATE</keyword>
            <keyword>UNDO</keyword>
            <keyword>CONDITION</keyword>
            <keyword>CURSOR</keyword>
            <keyword>EACH</keyword>
            <keyword>FETCH</keyword>
            <keyword>INSENSITIVE</keyword>
            <keyword>LEAVE</keyword>
            <keyword>OUT</keyword>
            <keyword>REPEAT</keyword>
            <keyword>SCHEMAS</keyword>
            <keyword>VIEW</keyword>
            <keyword>SORT</keyword>
            <keyword>SQL</keyword>
            <keyword>SQLWARNING</keyword>
            <keyword>UPGRADE</keyword>
            <keyword>DELIMITER</keyword>
            <keyword>BEGIN</keyword>
            <keyword>END</keyword>
      </keywords>
    </database>
  </databases>

  <!-- defines the entities the user can work with. ie. how they are serialized -->
  <!-- target-class-uid is the UID of the obejct this is describing (such as Column uid) , class-uid is the UID of the entity itself (ie: The CLASS UID of the "Entity" object -->
  <entities-serialization>
    <entity name="DataType" target-class-uid="{10000000-0000-0000-0000-000000000002}" hasDescription="1" supportsSps = "0" class-uid = "{1000000C-0000-0000-0000-000000000001}">
      <attribute name="SqlType" class_uid="{1000000E-0000-0000-0000-000000000001}" role-class-uid="{20000001-0000-0000-0000-000000000004}" builtin="1"/>
      <attribute name="Size" class_uid="{1000000E-0000-0000-0000-000000000001}" role-class-uid="{20000001-0000-0000-0000-000000000005}" builtin="1"/>
      <attribute name="Name" class_uid="{1000000E-0000-0000-0000-000000000001}" role-class-uid="{20000001-0000-0000-0000-000000000003}" builtin="1"/>
      <!-- TODO: finalize -->
    </entity>
    
    <entity name = "Column" target-class-uid = "{10000001-0000-0000-0000-000000000007}" supportsSps = "1" hasDescription = "1" class-uid = "{1000000C-0000-0000-0000-000000000001}">
      <attribute name="Name" class_uid="{1000000E-0000-0000-0000-000000000001}" role-class-uid="{20000001-0000-0000-0000-000000000003}" builtin="1"/>
      <attribute name="PK" class_uid="{1000000E-0000-0000-0000-000000000001}" role-class-uid = "{20000001-0000-0000-0000-00000000000C}" builtin="1"/>
      
      <!-- a reference is referencing an attribute of another entity, ie: take the attribute which has UID as "reference-role-uid" from 
           the entity referred by "reference-class-uid" -->
      <reference name="Type" class_uid="{1000000F-0000-0000-0000-000000000001}" reference-class-uid = "{10000000-0000-0000-0000-000000000002}" reference-role-uid = "{20000001-0000-0000-0000-000000000003}" builtin="1"/>  
    </entity>
    
    <entity name ="Table" target-class-uid = "{10000001-0000-0000-0000-000000000001}" hasDescription = "1" supportsSps = "1" class-uid = "{1000000C-0000-0000-0000-000000000001}">
      <attribute name="Name" class_uid="{1000000E-0000-0000-0000-000000000001}" role-class-uid="{20000001-0000-0000-0000-000000000003}" builtin="1"/>
      <!-- TODO: finalize -->
      
      <!-- Define the columns as a collection where the role defines the 
           entry for which the query builders will look and the item defines the
           items which are in this collection
        -->
      <collection name="Columns" 
                  class_uid = "{10000010-0000-0000-0000-000000000001}" 
                  role-class-uid="{20000001-0000-0000-0000-00000000000B}" 
                  collection-entity-class-uid="{10000001-0000-0000-0000-000000000007}" 
                  builtin="1"
      />
      
    </entity>
  </entities-serialization>
  
  <generators>
   <!-- so, below we define a statement which has the role of "Create Table" with its own class_uid and this statement operates on Table "entities" -->
   <generator name = "Create Table Query" class_uid="{20000002-0000-0000-0000-000000000001}" role_uid = "{20000001-0000-0000-0000-00000000000E}" operates_on_entity_uid="{10000001-0000-0000-0000-000000000001}">
     <!-- The class uid tells us, this sequence is actually a keyword, the role uid is the keyword which has that role UID. Below is: CREATE -->
     <sequence index="1" class_uid="{1000000D-0000-0000-0000-000000000001}" source_role_uid="{20000001-0000-0000-0000-00000000000D}" />
     
     <!-- TODO: add the TEMPORARY MySql SP here when we have SP support -->
     
     <!-- The class uid tells us, this is a keywrod, the role uid is the keyword which has that role UID. Below is: TABLE -->
     <sequence index="2" class_uid="{1000000D-0000-0000-0000-000000000001}" source_role_uid="{20000001-0000-0000-0000-00000000000F}" />
     <!-- The following tells us the next sequence element is an attribute reference of the entity on which this statement operates 
         (operates_on_entity_uid) and the attribute should be: "name" -->
     <sequence index ="3" class_uid="{1000000E-0000-0000-0000-000000000001}" source_role_uid="{1000000E-0000-0000-0000-000000000001}"/>
   </generator>
  </generators>
</repository>
